<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Onet DNS - 광고 차단 및 개인정보 보호 DNS</title>
    <meta name="description" content="광고 차단, DNS 암호화, Zero Query Log 정책을 통해 사용자의 개인정보를 보호하는 Onet DNS 서비스입니다. DoH, DoT, DoQ 등 최신 프로토콜을 지원합니다." />
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Onet DNS - 안전하고 빠른 DNS" />
    <meta property="og:description" content="추적 없는 안전한 DNS. Android, iOS, Windows 등 모든 플랫폼 지원." />
    <meta property="og:type" content="website" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable-dynamic-subset.css" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png" />
    <meta name="google-site-verification" content="RAa1iSgrWRNlz7VzAxS0z8jYZpdCdzEKDUWt9qFMxFI" />
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Service",
      "serviceType": "DNS Service",
      "provider": {
        "@type": "Organization",
        "name": "Onet DNS"
      },
      "areaServed": "Global",
      "name": "Onet DNS",
      "description": "광고 차단, 암호화, Privacy-First 정책이 적용된 Onet DNS 서비스입니다."
    }
    </script>
    <style>
      .hero-section {
        height: 95%;
        background-size: cover;
        background-position: center;
        position: relative;
        -webkit-mask-image: radial-gradient(ellipse 120% 100% at 50% 0%, rgba(0, 0, 0, 1) 80%, rgba(0, 0, 0, 0) 100%);
        mask-image: radial-gradient(ellipse 120% 100% at 50% 0%, rgba(0, 0, 0, 1) 80%, rgba(0, 0, 0, 0) 100%);
        mask-mode: alpha;
        mask-repeat: no-repeat;
        mask-size: 100% 100%;
        box-shadow: 0 10px 30px -15px rgba(0, 0, 0, .3);
      }

      body, body * {
        -webkit-user-select: none !important;
        -moz-user-select: -moz-none !important;
        -ms-user-select: none !important;
        user-select: none !important;
        -webkit-touch-callout: none !important;
      }

      img, a, svg {
        -webkit-user-drag: none;
      }

      body {
        font-family: "Pretendard Variable", sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      ::-webkit-scrollbar {
        width: 8px;
      }

      ::-webkit-scrollbar-track {
        background: #1e293b;
      }

      ::-webkit-scrollbar-thumb {
        background: #475569;
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #64748b;
      }

      .rolling {
        font-family: inherit;
        font-size: inherit;
        font-weight: inherit;
        line-height: inherit;
        color: inherit;
        vertical-align: middle;
      }

      .digit-group {
        position: relative;
        width: 1ch;
        height: 1em;
        overflow: hidden;
        display: inline-block;
        vertical-align: -0.175em;
        text-align: center;
      }

      .digit-group::before {
        content: "0";
        visibility: hidden;
        line-height: 1em;
        height: 1em;
      }

      .digit-stack {
        position: absolute;
        top: 0;
        left: 0;
        display: flex;
        flex-direction: column;
        transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
      }

      .digit-stack span {
        display: block;
        height: 1em;
        line-height: 1em;
        text-align: center;
      }

      .decimal-dot {
        display: inline-block;
        width: 0.4ch;
        vertical-align: middle;
        text-align: center;
      }

      .popup-content {
        max-height: 70vh;
        overflow-y: auto;
      }

      .bg-layer {
        inset: 0;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        transition: opacity 1s ease-in-out;
      }
    </style>
  </head>
  <body class="bg-slate-900 text-slate-200">
    <div class="fixed inset-0 -z-10 h-full w-full bg-slate-900 bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)] bg-[size:4rem_4rem]">
      <div id="bg-container" class="hero-section relative min-h-[100dvh]">
        <div id="bg-low" class="bg-layer absolute inset-0 z-[1]  bg-[url('./background_q75.webp')]"></div>
        <div id="bg-mid" class="bg-layer absolute inset-0 z-[2]  bg-[url('./background_q85.webp')]"></div>
        <div id="bg-full" class="bg-layer absolute inset-0 z-[3]  bg-[url('./background.webp')]"></div>
      </div>
      <div class="absolute bottom-0 left-0 right-0 top-0 bg-[radial-gradient(circle_500px_at_50%_200px,#38bdf8,transparent)] opacity-20"></div>
    </div>
    <div class="container mx-auto px-4 py-8 md:py-12">
      <header class="text-center mb-8">
        <h1 class="text-4xl md:text-5xl font-bold text-white">Onet DNS</h1>
        <p class="mt-2 text-slate-400">광고 차단 · 암호화 · Privacy-First 정책</p>
      </header>
      <div id="notice-slider-container" class="max-w-3xl mx-auto mb-8">
        <div class="relative overflow-hidden group">
          <div id="noticeSlider" class="flex items-start transition-transform duration-500 ease-in-out">
            <div class="w-full flex-shrink-0">
              <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-4 text-center">
                <p>
                  <span class="font-bold text-sky-400">📢 공지</span>: 최고의 서비스를 위해 보조 DNS 서버를 설정해 주세요.
                </p>
              </div>
            </div>
            <div class="w-full flex-shrink-0">
              <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-4 text-center">
                <p>
                  <span class="font-bold text-yellow-400">⚠️ 주의</span>: DDos 공격으로 인해 과도한 요청 시 일시적으로 차단됩니다.
                </p>
              </div>
            </div>
            <div class="w-full flex-shrink-0">
              <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-4 text-center flex items-center justify-center gap-4">
                <span class="font-bold text-white">💬 문의</span>
                <a href="mailto:mail@onetwohour.com" class="flex items-center gap-2 bg-slate-700 hover:bg-slate-600 px-3 py-1.5 rounded-full text-sm font-medium text-white transition-colors">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" role="img" aria-labelledby="emailIconTitle">
                    <title id="emailIconTitle">Email Icon</title>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                  </svg> Email </a>
                <a href="https://discord.gg/gp3w9w7XXj" class="flex items-center gap-2 bg-[#5865F2] hover:bg-[#4752c4] px-3 py-1.5 rounded-full text-sm font-medium text-white transition-colors">
                  <svg class="w-5 h-5" viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" fill="currentColor" role="img" aria-labelledby="discordIconTitle">
                    <title id="discordIconTitle">Discord Icon</title>
                    <path fill="currentColor" d="M78.527 20.998c-10.973-8.229-21.412-8.001-21.412-8.001l-1.067 1.219c12.954 3.962 18.973 9.677 18.973 9.677-7.925-4.343-15.697-6.477-22.936-7.315-5.486-0.61-10.744-0.457-15.392 0.152-0.457 0-0.838 0.076-1.295 0.152-2.667 0.229-9.144 1.219-17.297 4.801-2.819 1.295-4.496 2.21-4.496 2.21s6.325-6.02 20.04-9.982l-0.762-0.914s-10.439-0.229-21.412 8.001c0 0-10.973 19.888-10.973 44.424 0 0 6.401 11.049 23.241 11.582 0 0 2.819-3.429 5.105-6.324-9.677-2.896-13.335-8.991-13.335-8.991s0.762 0.533 2.134 1.295c0.076 0.076 0.152 0.152 0.305 0.229 0.229 0.152 0.457 0.229 0.686 0.381 1.905 1.067 3.81 1.905 5.563 2.591 3.124 1.219 6.858 2.438 11.201 3.276 5.715 1.067 12.42 1.448 19.735 0.076 3.581-0.61 7.239-1.676 11.049-3.277 2.667-0.991 5.639-2.438 8.763-4.496 0 0-3.81 6.248-13.792 9.068 2.286 2.896 5.029 6.172 5.029 6.172C83.023 76.47 89.5 65.422 89.5 65.422c0-24.536-10.973-44.424-10.973-44.424z" />
                    <path fill="#5865F2" d="M30.751 58.335c-4.267 0-7.772-3.81-7.772-8.458s3.429-8.458 7.772-8.458 7.848 3.81 7.772 8.458c0 4.648-3.429 8.458-7.772 8.458zM58.563 58.335c-4.267 0-7.772-3.81-7.772-8.458s3.429-8.458 7.772-8.458 7.772 3.81 7.772 8.458-3.429 8.458-7.772 8.458z" />
                  </svg> Discord </a>
              </div>
            </div>
            <div class="w-full flex-shrink-0">
              <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-4 text-center flex items-center justify-center gap-4">
                <span class="font-bold text-emerald-400">✨ 후원</span>
                <a href="https://www.buymeacoffee.com/onetwohour" target="_blank" class="inline-flex items-center gap-2 bg-[#10b981] text-white px-3 py-1.5 rounded-full text-sm hover:bg-[#059669] transition-colors">
                  <span class="leading-none">☕ Buy me a coffee</span>
                </a>
              </div>
            </div>
          </div>
          <div id="sliderCtrls">
            <button onclick="slide('prev')" class="absolute top-1/2 left-2 -translate-y-1/2 bg-slate-700/50 hover:bg-slate-600/80 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" role="img" aria-labelledby="prevIconTitle">
                <title id="prevIconTitle">Previous Slide</title>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
              </svg>
            </button>
            <button onclick="slide('next')" class="absolute top-1/2 right-2 -translate-y-1/2 bg-slate-700/50 hover:bg-slate-600/80 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" role="img" aria-labelledby="nextIconTitle">
                 <title id="nextIconTitle">Next Slide</title>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </button>
          </div>
        </div>
      </div>
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
        <div class="lg:col-span-2 space-y-8">
          <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-6 shadow-lg">
            <h2 class="text-2xl font-bold text-white mb-4">DNS 서버 정보</h2>
            <div class="space-y-4">
              <div class="flex items-center justify-between bg-slate-800 p-4 rounded-lg">
                <div>
                  <p class="text-sm text-slate-400">DNS Node 1 (IPv4)</p>
                  <p class="text-xl font-mono text-emerald-400">3.39.126.146</p>
                </div>
                <div class="flex items-center gap-4">
                  <div class="flex items-center gap-2 text-sm">
                    <div id="ping-dot-one" class="w-3 h-3 rounded-full bg-red-500 transition-colors"></div>
                    <span id="ping-state-one" class="font-medium">Off</span>
                  </div>
                  <button class="copy-btn p-2 rounded-md bg-slate-700 hover:bg-slate-600 transition-colors" data-copy="3.39.126.146">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" role="img" aria-labelledby="copyIconTitle1">
                      <title id="copyIconTitle1">Copy IP Address</title>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                    </svg>
                  </button>
                </div>
              </div>
              <div class="flex items-center justify-between bg-slate-800 p-4 rounded-lg">
                <div>
                  <p class="text-sm text-slate-400">DNS Node 2 (IPv4)</p>
                  <p class="text-xl font-mono text-emerald-400">15.165.111.52</p>
                </div>
                <div class="flex items-center gap-4">
                  <div class="flex items-center gap-2 text-sm">
                    <div id="ping-dot-two" class="w-3 h-3 rounded-full bg-red-500 transition-colors"></div>
                    <span id="ping-state-two" class="font-medium">Off</span>
                  </div>
                  <button class="copy-btn p-2 rounded-md bg-slate-700 hover:bg-slate-600 transition-colors" data-copy="15.165.111.52">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" role="img" aria-labelledby="copyIconTitle2">
                       <title id="copyIconTitle2">Copy IP Address</title>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-6 shadow-lg">
            <h2 class="text-2xl font-bold text-white mb-4 flex items-center items-baseline">실시간 통계<span class="text-sm text-gray-400 ml-2">/24h</span></h2>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
              <div class="bg-slate-800 p-4 rounded-lg">
                <p class="text-sm text-slate-400 mb-1">총 요청</p>
                <p class="text-3xl font-bold text-sky-400 rolling" id="dns-total">0</p>
              </div>
              <div class="bg-slate-800 p-4 rounded-lg">
                <p class="text-sm text-slate-400 mb-1">차단된 요청</p>
                <p class="text-3xl font-bold text-red-400 rolling" id="dns-blocked">0</p>
              </div>
              <div class="bg-slate-800 p-4 rounded-lg">
                <p class="text-sm text-slate-400 mb-1">차단율</p>
                <p class="text-3xl font-bold text-red-400">
                  <span class="rolling" id="dns-ratio">0</span>
                  <span class="text-xl">%</span>
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="space-y-8">
          <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-6 shadow-lg">
            <h2 class="text-2xl font-bold text-white mb-4">지원 프로토콜</h2>
            <div class="grid grid-cols-2 gap-3">
              <button class="copy-btn-text w-full text-center py-2 px-3 rounded-md bg-slate-700 hover:bg-slate-600 transition-colors" data-copy="https://one.dns.onetwohour.com/dns-query&#10;https://two.dns.onetwohour.com/dns-query">DoH</button>
              <button class="copy-btn-text w-full text-center py-2 px-3 rounded-md bg-slate-700 hover:bg-slate-600 transition-colors" data-copy="tls://one.dns.onetwohour.com&#10;tls://two.dns.onetwohour.com">DoT</button>
              <button class="copy-btn-text w-full text-center py-2 px-3 rounded-md bg-slate-700 hover:bg-slate-600 transition-colors" data-copy="quic://one.dns.onetwohour.com&#10;quic://two.dns.onetwohour.com">DoQ</button>
              <button class="copy-btn-text w-full text-center py-2 px-3 rounded-md bg-slate-700 hover:bg-slate-600 transition-colors" data-copy="h3://one.dns.onetwohour.com/dns-query&#10;h3://two.dns.onetwohour.com/dns-query">HTTP/3</button>
            </div>
          </div>
          <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-6 shadow-lg text-center">
            <h2 class="text-2xl font-bold text-white mb-1">Zero Query Logs</h2>
            <p class="text-slate-400 mb-4">사용자의 프라이버시를 최우선으로 생각합니다.</p>
            <button id="guideBtn" class="w-full bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-4 rounded-lg transition-colors shadow-lg shadow-sky-500/20"> 설정 가이드 보기 </button>
          </div>
          <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-6 shadow-lg flex flex-col items-center text-center gap-3">
            <div class="flex items-center justify-center text-sky-400 text-3xl mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" role="img" aria-labelledby="dnsIconTitle">
                <title id="dnsIconTitle">DNS Icon</title>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2a4 4 0 114 0v2m-6 4h8a2 2 0 002-2v-4a8 8 0 10-12 0v4a2 2 0 002 2z" />
              </svg>
              <span class="font-semibold text-xl">DNS란?</span>
            </div>
            <p class="text-slate-300 leading-relaxed"> DNS는 <span class="font-bold text-white">도메인 이름</span>을 <span class="font-bold text-white">IP 주소</span>로 바꿔주는 <span class="text-sky-400 font-bold">인터넷의 전화번호부</span>입니다. <br> 보안이 강화된 DNS를 사용하면 <span class="font-bold text-emerald-400">중간자 공격</span>과 <span class="font-bold text-emerald-400">위조 응답</span>을 효과적으로 차단하여, <span class="font-bold text-white">개인정보를 안전하게 보호</span>할 수 있습니다. </p>
          </div>
        </div>
      </div>
    </div>
    <div id="popupCard" style="display: none;" class="fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4">
      <div class="bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-2xl shadow-2xl relative">
        <div class="flex justify-between items-center p-4 border-b border-slate-700">
          <h2 class="text-xl font-bold text-white">설정 가이드</h2>
          <button onclick="closePopup()" class="p-2 rounded-full hover:bg-slate-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" role="img" aria-labelledby="closeIconTitle">
              <title id="closeIconTitle">Close Popup</title>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
        <div class="popup-content p-2 sm:p-4">
          <div class="flex flex-wrap justify-center gap-2 p-2 mb-4 bg-slate-800 rounded-lg">
            <button class="tab-btn active px-4 py-2 rounded-lg text-sm font-medium transition-colors hover:bg-slate-700 text-slate-300" data-target="tab-android">Android</button>
            <button class="tab-btn px-4 py-2 rounded-lg text-sm font-medium transition-colors hover:bg-slate-700 text-slate-300" data-target="tab-windows">Windows</button>
            <button class="tab-btn px-4 py-2 rounded-lg text-sm font-medium transition-colors hover:bg-slate-700 text-slate-300" data-target="tab-ios">iOS</button>
            <button class="tab-btn px-4 py-2 rounded-lg text-sm font-medium transition-colors hover:bg-slate-700 text-slate-300" data-target="tab-macos">macOS</button>
            <button class="tab-btn px-4 py-2 rounded-lg text-sm font-medium transition-colors hover:bg-slate-700 text-slate-300" data-target="tab-adguard">AdGuard</button>
          </div>
          <div class="px-2 sm:px-4">
            <div class="tab-content" id="tab-android">
              <ul class="space-y-3 text-slate-300 text-sm">
                <li>
                  <strong>설정</strong> → 연결 → 기타 연결 설정 → <strong>프라이빗 DNS</strong>로 이동합니다.
                </li>
                <li>'프라이빗 DNS 공급자 호스트 이름'을 선택하고 아래 주소 중 하나를 입력하세요.</li>
                <li class="bg-slate-800 p-3 rounded-lg flex">
                  <p class="font-semibold text-slate-400 mb-1 w-24 shrink-0">DNS Node 1:</p>
                  <code class="copy-dns text-emerald-400 hover:underline cursor-pointer" data-copy="one.dns.onetwohour.com">one.dns.onetwohour.com</code>
                </li>
                <li class="bg-slate-800 p-3 rounded-lg flex">
                  <p class="font-semibold text-slate-400 mb-1 w-24 shrink-0">DNS Node 2:</p>
                  <code class="copy-dns text-emerald-400 hover:underline cursor-pointer" data-copy="two.dns.onetwohour.com">two.dns.onetwohour.com</code>
                </li>
              </ul>
            </div>
            <div class="tab-content hidden" id="tab-windows">
              <p class="text-sm text-slate-400 mb-4">Windows 11 및 최신 Windows 10 사용자는 보안을 위해 <strong>암호화된 DNS(DoH) 설정</strong>을 권장합니다. </p>
              <div class="space-y-4">
                <details class="bg-slate-800 rounded-lg overflow-hidden">
                  <summary class="font-semibold text-white p-3 cursor-pointer hover:bg-slate-700 flex justify-between items-center">
                    <span>1. 암호화된 DNS (DoH) 설정</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor" role="img" aria-labelledby="arrowIconTitle1">
                      <title id="arrowIconTitle1">Expand Section</title>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                  </summary>
                  <div class="p-4 border-t border-slate-700 text-sm space-y-4">
                    <ol class="list-decimal list-inside space-y-2">
                      <li>
                        <strong>설정 → 네트워크 및 인터넷 → Wi-Fi/이더넷 → 하드웨어 속성</strong>으로 이동
                      </li>
                      <li>
                        <strong>DNS 서버 할당</strong> 옆의 <strong>[편집]</strong> 버튼 클릭
                      </li>
                      <li>아래 정보를 입력하고 저장하세요.</li>
                    </ol>
                    <div class="bg-slate-900 p-4 rounded-lg space-y-4">
                      <div>
                        <h4 class="font-semibold text-white mb-2">DNS Node 1</h4>
                        <div class="space-y-2">
                          <div class="flex items-center">
                            <span class="w-32 text-slate-400 shrink-0">IPv4:</span>
                            <code class="copy-dns text-emerald-400 hover:underline cursor-pointer" data-copy="3.39.126.146">3.39.126.146</code>
                          </div>
                          <div class="flex items-start">
                            <span class="w-32 text-slate-400 shrink-0">HTTPS 템플릿:</span>
                            <code class="copy-dns text-emerald-400 hover:underline cursor-pointer break-all" data-copy="https://one.dns.onetwohour.com/dns-query">https://one.dns.onetwohour.com/dns-query</code>
                          </div>
                        </div>
                      </div>
                      <div>
                        <h4 class="font-semibold text-white mb-2">DNS Node 2</h4>
                        <div class="space-y-2">
                          <div class="flex items-center">
                            <span class="w-32 text-slate-400 shrink-0">IPv4:</span>
                            <code class="copy-dns text-emerald-400 hover:underline cursor-pointer" data-copy="15.165.111.52">15.165.111.52</code>
                          </div>
                          <div class="flex items-start">
                            <span class="w-32 text-slate-400 shrink-0">HTTPS 템플릿:</span>
                            <code class="copy-dns text-emerald-400 hover:underline cursor-pointer break-all" data-copy="https://two.dns.onetwohour.com/dns-query">https://two.dns.onetwohour.com/dns-query</code>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </details>
                <details class="bg-slate-800 rounded-lg overflow-hidden">
                  <summary class="font-semibold text-white p-3 cursor-pointer hover:bg-slate-700 flex justify-between items-center">
                    <span>2. 레거시 IP 주소 설정 (구형 Windows)</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor" role="img" aria-labelledby="arrowIconTitle2">
                      <title id="arrowIconTitle2">Expand Section</title>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                  </summary>
                  <div class="p-4 border-t border-slate-700 text-sm space-y-4">
                    <ol class="list-decimal list-inside space-y-2">
                      <li>
                        <b>경로:</b> 제어판 → 네트워크 및 인터넷 → 네트워크 및 공유 센터
                      </li>
                      <li>어댑터 설정 변경 → 사용 중인 연결 우클릭 → 속성</li>
                      <li>인터넷 프로토콜 버전 4(TCP/IPv4) 선택 후 속성</li>
                      <li>
                        <b>"다음 DNS 서버 주소 사용"</b> 선택 후 아래 IP 입력:
                      </li>
                    </ol>
                    <div class="bg-slate-900 p-4 rounded-lg space-y-2">
                      <div class="flex items-center">
                        <span class="w-32 text-slate-400 shrink-0">DNS Node 1:</span>
                        <code class="copy-dns text-emerald-400 hover:underline cursor-pointer" data-copy="3.39.126.146">3.39.126.146</code>
                      </div>
                      <div class="flex items-center">
                        <span class="w-32 text-slate-400 shrink-0">DNS Node 2:</span>
                        <code class="copy-dns text-emerald-400 hover:underline cursor-pointer" data-copy="15.165.111.52">15.165.111.52</code>
                      </div>
                    </div>
                  </div>
                </details>
              </div>
            </div>
            <div class="tab-content hidden" id="tab-ios">
              <ul class="space-y-3 text-slate-300 text-sm">
                <li>iOS 14 이상에서 아래 프로필을 다운로드하여 설치하세요.</li>
                <li class="bg-slate-800 p-3 rounded-lg">
                  <a href="./onetdns-one.mobileconfig" class="font-semibold text-sky-400 hover:underline" target="_blank">DNS Node 1 프로필 다운로드</a>
                </li>
                <li class="bg-slate-800 p-3 rounded-lg">
                  <a href="./onetdns-two.mobileconfig" class="font-semibold text-sky-400 hover:underline" target="_blank">DNS Node 2 프로필 다운로드</a>
                </li>
                <li>
                  <strong>설정 → 일반 → VPN 및 기기 관리</strong>에서 설치된 프로필을 활성화합니다.
                </li>
              </ul>
            </div>
            <div class="tab-content hidden" id="tab-macos">
              <ul class="space-y-3 text-slate-300 text-sm">
                <li>macOS Big Sur 이상에서 아래 프로필을 다운로드하여 설치하세요.</li>
                <li class="bg-slate-800 p-3 rounded-lg">
                  <a href="./onetdns-one.mobileconfig" class="font-semibold text-sky-400 hover:underline" target="_blank">DNS Node 1 프로필 다운로드</a>
                </li>
                <li class="bg-slate-800 p-3 rounded-lg">
                  <a href="./onetdns-two.mobileconfig" class="font-semibold text-sky-400 hover:underline" target="_blank">DNS Node 2 프로필 다운로드</a>
                </li>
                <li>
                  <strong>시스템 설정 → 프로파일</strong>에서 설치된 프로필을 활성화합니다.
                </li>
              </ul>
            </div>
            <div class="tab-content hidden" id="tab-adguard">
              <ul class="space-y-3 text-slate-300 text-sm">
                <li>
                  <strong>AdGuard → DNS 보호 → DNS 서버 선택 → 사용자 정의 서버 추가</strong>로 이동합니다.
                </li>
                <li>아래 주소 중 원하는 프로토콜의 주소를 복사하여 추가하세요.</li>
                <li class="bg-slate-800 p-4 rounded-lg space-y-4">
                  <div>
                    <h4 class="font-semibold text-white mb-2">DNS Node 1 ( <code class="text-sm font-normal text-slate-400">one.dns.onetwohour.com</code>) </h4>
                    <div class="space-y-2 pl-2">
                      <div class="flex items-start">
                        <span class="w-20 text-slate-400 shrink-0">DoH:</span>
                        <code class="copy-dns text-emerald-400 hover:underline cursor-pointer break-all" data-copy="https://one.dns.onetwohour.com/dns-query">https://one.dns.onetwohour.com/dns-query</code>
                      </div>
                      <div class="flex items-start">
                        <span class="w-20 text-slate-400 shrink-0">DoT:</span>
                        <code class="copy-dns text-emerald-400 hover:underline cursor-pointer break-all" data-copy="tls://one.dns.onetwohour.com">tls://one.dns.onetwohour.com</code>
                      </div>
                      <div class="flex items-start">
                        <span class="w-20 text-slate-400 shrink-0">DoQ:</span>
                        <code class="copy-dns text-emerald-400 hover:underline cursor-pointer break-all" data-copy="quic://one.dns.onetwohour.com">quic://one.dns.onetwohour.com</code>
                      </div>
                      <div class="flex items-start">
                        <span class="w-20 text-slate-400 shrink-0">HTTP/3:</span>
                        <code class="copy-dns text-emerald-400 hover:underline cursor-pointer break-all" data-copy="h3://one.dns.onetwohour.com/dns-query">h3://one.dns.onetwohour.com/dns-query</code>
                      </div>
                    </div>
                  </div>
                  <div>
                    <h4 class="font-semibold text-white mb-2">DNS Node 2 ( <code class="text-sm font-normal text-slate-400">two.dns.onetwohour.com</code>) </h4>
                    <div class="space-y-2 pl-2">
                      <div class="flex items-start">
                        <span class="w-20 text-slate-400 shrink-0">DoH:</span>
                        <code class="copy-dns text-emerald-400 hover:underline cursor-pointer break-all" data-copy="https://two.dns.onetwohour.com/dns-query">https://two.dns.onetwohour.com/dns-query</code>
                      </div>
                      <div class="flex items-start">
                        <span class="w-20 text-slate-400 shrink-0">DoT:</span>
                        <code class="copy-dns text-emerald-400 hover:underline cursor-pointer break-all" data-copy="tls://two.dns.onetwohour.com">tls://two.dns.onetwohour.com</code>
                      </div>
                      <div class="flex items-start">
                        <span class="w-20 text-slate-400 shrink-0">DoQ:</span>
                        <code class="copy-dns text-emerald-400 hover:underline cursor-pointer break-all" data-copy="quic://two.dns.onetwohour.com">quic://two.dns.onetwohour.com</code>
                      </div>
                      <div class="flex items-start">
                        <span class="w-20 text-slate-400 shrink-0">HTTP/3:</span>
                        <code class="copy-dns text-emerald-400 hover:underline cursor-pointer break-all" data-copy="h3://two.dns.onetwohour.com/dns-query">h3://two.dns.onetwohour.com/dns-query</code>
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="toast" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-sm font-medium px-4 py-2 rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-300 z-50"> 복사됨! </div>
    <footer class="text-center text-slate-500 text-sm mt-16 pb-8">
      <p>👤 <span class="font-semibold">onetwohour</span> | ✉️ <a href="mailto:mail@onetwohour.com" class="underline hover:text-sky-400">mail@onetwohour.com</a> | 🌐 <a href="https://github.com/onetwohour/onetdns" target="_blank" class="underline hover:text-sky-400">GitHub</a>
      </p>
      <p class="mt-2 text-xs text-slate-600">© 2025 Onet DNS. All Rights Reserved.</p>
    </footer>
    <script>
      const guideBtn = document.getElementById("guideBtn");
      const popupCard = document.getElementById("popupCard");
      const noticeSlider = document.getElementById("noticeSlider");
      const toast = document.getElementById("toast");
      let currentSlide = 0;
      let slideInterval;
      const slides = noticeSlider.children;
      const totalSlides = slides.length;
      const ctrlWrap = document.getElementById('sliderCtrls');

      function updateSliderPosition() {
        noticeSlider.style.transform = `translateX(-${currentSlide * 100}%)`;
        const container = document.querySelector('#notice-slider-container > .relative');
        container.style.height = slides[currentSlide].offsetHeight + 'px';
      }
      document.querySelector('#notice-slider-container > .relative').classList.add('transition-[height]', 'duration-300');

      function slide(direction) {
        if (direction === 'next') {
          currentSlide = (currentSlide + 1) % totalSlides;
        } else {
          currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        }
        updateSliderPosition();
      }

      function startSlider() {
        stopSlider();
        slideInterval = setInterval(() => slide('next'), 5000);
      }

      function stopSlider() {
        clearInterval(slideInterval);
      }

      function openPopup() {
        popupCard.style.display = "flex";
      }

      function closePopup() {
        popupCard.style.display = "none";
      }
      guideBtn.addEventListener("click", openPopup);
      document.querySelectorAll(".tab-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          document.querySelectorAll(".tab-btn").forEach((b) => b.classList.remove("active", "bg-sky-500", "text-white"));
          btn.classList.add("active", "bg-sky-500", "text-white");
          document.querySelectorAll(".tab-content").forEach((content) => content.classList.add("hidden"));
          const targetId = btn.dataset.target;
          document.getElementById(targetId).classList.remove("hidden");
        });
      });
      document.querySelector('.tab-btn.active').classList.add('bg-sky-500', 'text-white');
      let toastTimer;

      function showToast(message) {
        clearTimeout(toastTimer);
        toast.textContent = message;
        toast.classList.remove("opacity-0", "bottom-0");
        toast.classList.add("opacity-100", "bottom-8");
        toastTimer = setTimeout(() => {
          toast.classList.remove("opacity-100", "bottom-8");
          toast.classList.add("opacity-0", "bottom-0");
        }, 2000);
      }

      function handleCopy(el) {
        const textToCopy = el.dataset.copy;
        if (!textToCopy) return;
        navigator.clipboard.writeText(textToCopy).then(() => {
          showToast(`복사됨!`);
          const originalContent = el.innerHTML;
          const originalClasses = el.className;
          if (el.tagName === 'BUTTON') {
            el.classList.add('bg-green-500', 'text-white');
            el.classList.remove('bg-slate-700', 'hover:bg-slate-600');
            el.disabled = true;
          } else if (el.tagName === 'CODE') {
            el.classList.add('text-sky-400');
            el.classList.remove('text-emerald-400');
          }
          setTimeout(() => {
            el.innerHTML = originalContent;
            el.className = originalClasses;
            if (el.tagName === 'BUTTON') {
              el.disabled = false;
            }
          }, 2000);
        }).catch(err => {
          console.error('복사 실패:', err);
          showToast('복사에 실패했습니다.');
        });
      }
      async function checkPing(host, timeout = 5000) {
        const randomPath = Math.random().toString(36).substring(2);
        const url = `https://${host}/${randomPath}`;
        const start = performance.now();
        try {
          await Promise.race([
            fetch(url, {
              method: "GET",
              mode: "no-cors",
              cache: "no-store"
            }),
            new Promise((_, reject) => setTimeout(reject, timeout, new Error("timeout"))),
          ]);
          return {
            ok: true,
            rtt: performance.now() - start
          };
        } catch (e) {
          return {
            ok: false,
            rtt: performance.now() - start
          };
        }
      }
      async function updatePingStatus(ms, prefix) {
        const dot = document.getElementById("ping-dot-" + prefix);
        const text = document.getElementById("ping-state-" + prefix);
        if (!dot || !text) return;
        dot.classList.toggle('bg-green-500', ms.ok);
        dot.classList.toggle('bg-red-500', !ms.ok);
        text.textContent = ms.ok ? "On" : "Off";
      }
      async function pingLoop(prefix) {
        const target = prefix + ".dns.onetwohour.com";
        const latency = await checkPing(target);
        updatePingStatus(latency, prefix);
        setInterval(async () => {
          const latency = await checkPing(target);
          updatePingStatus(latency, prefix);
        }, 5000);
      }

      function createSpan(ch) {
        if (ch === ".") {
          const dot = document.createElement("span");
          dot.className = "decimal-dot";
          dot.textContent = ".";
          return dot;
        }
        const group = document.createElement("span");
        group.className = "digit-group";
        const stack = document.createElement("span");
        stack.className = "digit-stack";
        for (let n = 0; n < 10; n++) {
          const s = document.createElement("span");
          s.textContent = n;
          stack.appendChild(s);
        }
        group.appendChild(stack);
        return group;
      }

      function updateRollingNumber(el, value, fixed = 1) {
        if (!el) return;
        const isInt = Number(value) % 1 === 0;
        const strValue = isInt ? String(value) : Number(value).toFixed(fixed);
        const chars = [...strValue];
        if (el.children.length !== chars.length) {
          el.innerHTML = "";
          chars.forEach(ch => el.appendChild(createSpan(ch)));
        }
        const digitGroups = el.querySelectorAll(".digit-group");
        const unit = el.querySelector(".digit-stack span")?.getBoundingClientRect().height || 0;
        if (unit === 0) return;
        let digitIndex = 0;
        for (const char of chars) {
          if (char === ".") continue;
          if (digitIndex < digitGroups.length) {
            const stack = digitGroups[digitIndex++].firstElementChild;
            stack.style.transform = `translateY(-${+char * unit}px)`;
          }
        }
      }
      async function updateDnsStats() {
        try {
          const res = await fetch("/.netlify/functions/stats", {
            cache: "no-store"
          });
          if (!res.ok) return;
          const {
            queries,
            blocked,
            ratio
          } = await res.json();
          updateRollingNumber(document.getElementById("dns-total"), queries);
          updateRollingNumber(document.getElementById("dns-blocked"), blocked);
          updateRollingNumber(document.getElementById("dns-ratio"), ratio, 1);
        } catch (e) {
          console.error("Failed to fetch DNS stats:", e);
        }
      }
      document.addEventListener("DOMContentLoaded", () => {
        document.body.addEventListener('click', function(event) {
          const target = event.target.closest('.copy-btn, .copy-btn-text, .copy-dns');
          if (target) {
            handleCopy(target);
          }
        });
        if (totalSlides > 0) {
          updateSliderPosition();
          startSlider();
          const sliderContainer = document.getElementById('notice-slider-container');
          sliderContainer.addEventListener('mouseenter', stopSlider);
          sliderContainer.addEventListener('mouseleave', startSlider);
        }
        ["one", "two"].forEach(pingLoop);
        updateDnsStats();
        setInterval(updateDnsStats, 2000);
        document.querySelectorAll('details').forEach((detail) => {
          detail.addEventListener('toggle', function() {
            const summary = this.querySelector('summary');
            const icon = summary.querySelector('svg');
            if (icon) {
              icon.style.transform = this.open ? 'rotate(180deg)' : 'rotate(0deg)';
            }
          });
        });
      });
    </script>
  </body>
</html>